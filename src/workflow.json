{
  "api": "4.1.0",
  "name": "gdal_demo",
  "vars": [
    {
      "id": "col1",
      "value": "-k2"
    },
    {
      "id": "col2",
      "value": "-k1"
    },
    {
      "id": "inputfiles",
      "value": [
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32286_5630_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32286_5632_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32288_5626_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32288_5628_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32288_5630_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32288_5632_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32288_5634_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32288_5636_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32290_5622_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32290_5624_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32290_5626_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32290_5628_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32290_5630_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32290_5632_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32290_5634_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32290_5636_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32292_5622_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32292_5624_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32292_5626_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32292_5628_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32292_5630_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32292_5632_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32292_5634_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32292_5636_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32292_5638_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32294_5622_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32294_5624_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32294_5626_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32294_5628_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32294_5630_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32294_5632_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32294_5634_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32296_5618_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32296_5620_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32296_5622_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32296_5624_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32296_5626_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32296_5628_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32296_5630_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32296_5632_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32298_5616_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32298_5618_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32298_5620_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32298_5622_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32298_5624_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32298_5626_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32298_5628_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32298_5630_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32300_5616_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32300_5618_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32300_5620_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32300_5622_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32300_5624_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32300_5626_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32300_5628_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32300_5630_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32300_5632_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32302_5618_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32302_5620_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32302_5622_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32302_5624_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32302_5626_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32302_5628_2_nw.xyz", "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32302_5630_2_nw.xyz", 
        "/tmp/tiles/dgm1_05334002_Aachen_EPSG4647_XYZ/dgm1_32302_5632_2_nw.xyz"
        ]
    },
    {
      "id": "inputfile"
    },
    {
      "id": "warpedfiles"
    },
    {
      "id": "sorted_file"
    },
    {
      "id": "tif_file"
    },
    {
      "id": "transformed_file"
    },
    {
      "id": "outputfile"
    },
    {
      "id": "format",
      "value": "GTIFF"
    },
    {
      "id": "s_srs",
      "value": "EPSG:4647"
    },
    {
      "id": "t_srs",
      "value": "EPSG:4326"
    },
    {
      "id": "outputdirectory"
    },
    {
      "id": "maxzoom",
      "value": "16"
    },
    {
      "id": "minzoom",
      "value": "10"
    }
  ],
  "actions": [
    {
      "type": "for",
      "input": "inputfiles",
      "output": "warpedfiles",
      "enumerator": "inputfile",
      "yieldToOutput": "transformed_file",
      "actions": [
        {
          "type": "execute",
          "service": "sort",
          "inputs": [
            {
              "id": "column1",
              "var": "col1"
            },
            {
              "id": "column2",
              "var": "col2"
            },
            {
              "id": "input_file",
              "var": "inputfile"
            }
          ],
          "outputs": [
            {
              "id": "output_file",
              "var": "sorted_file"
            }
          ]
        },
        {
          "type": "execute",
          "service": "gdal_translate",
          "inputs": [
            {
              "id": "format",
              "var": "format"
            },
            {
              "id": "input_file",
              "var": "sorted_file"
            }
          ],
          "outputs": [
            {
              "id": "output_file",
              "var": "tif_file"
            }
          ]
        },
        {
          "type": "execute",
          "service": "gdalwarp",
          "inputs": [
            {
              "id": "t_srs",
              "var": "t_srs"
            },
            {
              "id": "s_srs",
              "var": "s_srs"
            },
            {
              "id": "format",
              "var": "format"
            },
            {
              "id": "input_file",
              "var": "tif_file"
            }
          ],
          "outputs": [
            {
              "id": "output_file",
              "var": "transformed_file",
              "prefix": "tifs/"
            }
          ]
        }
      ]
    },
    {
      "type": "execute",
      "service": "qmconvert",
      "outputs": [
        {
          "id": "output_dir",
          "var": "outputdirectory",
          "prefix": "../",
          "store": true
        }
      ],
      "inputs": [
        {
          "id": "maxZoom",
          "var": "maxzoom"
        },
        {
          "id": "minZoom",
          "var": "minzoom"
        },
        {
          "id": "sourceCRS",
          "var": "t_srs"
        },
        {
          "id": "dataLocation",
          "var": "warpedfiles"
        }
      ]
    }
  ]
}