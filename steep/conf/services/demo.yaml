- id: sort
  name: sort
  description: Sorts files
  path: sort
  runtime: other

  parameters:

    - id: column1
      name: Column modifier
      description: Modifiers to specify column sort order
      type: input
      label: -n
      cardinality: 0..1
      data_type: string

    - id: column2
      name: Column modifier
      description: Modifiers to specify column sort order
      type: input
      cardinality: 0..1
      data_type: string

    - id: input_file
      name: Input file name
      description: Input file name
      type: input
      cardinality: 1..1
      data_type: file

    - id: output_file
      name: Output file name
      description: Output file name
      type: output
      label: -o
      cardinality: 1..1
      data_type: file
      file_suffix: ".xyz"

- id: gdal_translate
  name: Gdal Translate
  description: Converts raster data between different formats
  path: "geodata/gdal"
  runtime: docker

  runtime_args:
    - id: cleanup
      name: Cleanup container
      description: Removes container after exit
      value: "--rm"

  parameters:
    - id: gdal_translate
      name: translate command
      description: The translate command
      type: input
      cardinality: 1..1
      data_type: string
      default: gdal_translate
      # label: -q

    - id: format
      name: output format
      description: The format of the output file
      type: input
      label: -of
      cardinality: 1..1
      data_type: string

    - id: creation
      name: creation option command
      description: The optional creation option of the output format
      type: input
      label: -co
      cardinality: 1..1
      data_type: string

    - id: input_file
      name: Input file name
      description: Input file name
      type: input
      cardinality: 1..1
      data_type: file

    - id: output_file
      name: Output file name
      description: Output file name
      type: output
      cardinality: 1..1
      data_type: file
      file_suffix: ".tif"

- id: gdalwarp
  name: Gdal Warp
  description: Image reprojection and warping utility
  path: "geodata/gdal"
  runtime: docker

  runtime_args:
    - id: cleanup
      name: Cleanup container
      description: Removes container after exit
      value: "--rm"

  parameters:
    - id: gdalwarp
      name: warp command
      description: The warp command
      type: input
      cardinality: 1..1
      data_type: string
      default: gdalwarp
      # label: -q

    - id: t_srs
      name: target spatial reference
      description: The target spatial reference
      type: input
      label: -t_srs
      cardinality: 1..1
      data_type: string
      default: 

    - id: format
      name: output format
      description: The format of the output file
      type: input
      label: -of
      cardinality: 1..1
      data_type: string

    - id: input_file
      name: Input file name
      description: Input file name
      type: input
      cardinality: 1..1
      data_type: file

    - id: output_file
      name: Output file name
      description: Output file name
      type: output
      cardinality: 1..1
      data_type: file
      file_suffix: ".tif"

- id: gdalbuildvrt
  name: Gdal buildvrt
  description: Builds a VRT from a list of datasets
  path: "geodata/gdal"
  runtime: docker

  runtime_args:
    - id: cleanup
      name: Cleanup container
      description: Removes container after exit
      value: "--rm"

  parameters:
    - id: gdalbuildvrt
      name: gdalbuildvrt command
      description: The gdalbuildvrt command
      type: input
      cardinality: 1..1
      data_type: string
      default: gdalbuildvrt
      # label: -q

    - id: output_file
      name: Output file name
      description: Output file name
      type: output
      cardinality: 1..1
      data_type: file
      file_suffix: ".vrt"

    - id: input_file
      name: Input file name
      description: Input file name
      type: input
      cardinality: 1..n
      data_type: string

- id: ctb-tile
  name: CTB Tile
  description: Cesium Terrain Builder creates a Quantized-Mesh from a VRT file
  path: "tumgis/ctb-quantized-mesh"
  runtime: docker

  runtime_args:
    - id: cleanup
      name: Cleanup container
      description: Removes container after exit
      value: "--rm"
    # - id: volume
    #   name: Volume mount
    #   description: Mount data directory containing terrain files
    #   label: "-v"
    #   value: "/tmp:/data" # may need to be changed depending on Steep working dir !!!

  parameters:
    - id: ctb-tile
      name: ctb-tile command
      description: The ctb-tile command
      type: input
      cardinality: 1..1
      data_type: string
      default: ctb-tile
      # label: -q

    - id: format
      name: output format
      description: The format of the output file, either "Mesh" or "Terrain"
      type: input
      label: -f
      cardinality: 1..1
      data_type: string

    - id: extra
      name: extra modifiers
      description: Adds extra modifiers
      type: input
      cardinality: 0..n
      data_type: string

    - id: output_dir
      name: Output directory name
      description: Output directory name
      type: output
      label: -o
      cardinality: 1..1
      data_type: directory

    - id: input_file
      name: Input file name
      description: Input file name
      type: input
      cardinality: 1..1
      data_type: string

